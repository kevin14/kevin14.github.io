<!DOCTYPE html><html><head><title>Html5-Canvas-Duplicated-On-Android</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><link rel="stylesheet" type="text/css" href="/resource/css/base.css"><link rel="stylesheet" type="text/css" href="/resource/css/article.css"><script type="text/javascript" src="/resource/js/jquery-2.1.3.min.js"></script></head><body></body><div class="content"><a href="/" class="gohome h-font">Kevin14的博客</a><div class="title_box"><h1 class="title h-font">Html5-Canvas-Duplicated-On-Android</h1><h3 class="date h-font">2014-06-27</h3></div><div class="article-entry"><p>最近在开发H5游戏的时候会出现用Canvas绘制的画面被复制到页面顶部的问题，而且仅仅在Android的浏览器上会出现这种情况，反复检查不得其解。最终发现这竟然是CSS引起的Bug。</p>
<p>Canvas的父级不能拥有 <code>overflow</code> 的属性(除非是 <code>body</code> )，否则便会导致Canvas被复制。</p>
<p>在Google Code上也有类似的Issue -- <a href="https://code.google.com/p/android/issues/detail?id=41312">https://code.google.com/p/android/issues/detail?id=41312</a></p>
<h3 id="-">先上代码:</h3>
<pre><code>    //this may bring the android browser bug
    .parent{
        overflow:hidden;
        .canvas{

        }
    }
</code></pre><pre><code>    //correct
    .parent{
        //overflow:hidden;
        .canvas{

        }
    }
</code></pre><hr>
<h3 id="bug-">Bug如下图:</h3>
<p><img width="320px" height="640px" src="/static/img/error.jpg" alt="位置异常"></p>
<p>手机型号: 小米2S 三星S3</p>
<hr>
<h3 id="-">修复后:</h3>
<p><img width="320px" height="640px" src="/static/img/correct.jpg" alt="位置异常"></p>
</div><div class="page"><a href="/2014/06/09/Jade-Mixins-Pages" class="prev">上一篇 Jade-Mixins-Pages</a><a href="/2014/07/15/Web-Components-Decorators" class="next">下一篇 Web-Components-Decorators</a></div><div class="comments"><div data-thread-key="2014-06-27 15:08:44" data-title="Html5-Canvas-Duplicated-On-Android" data-url="http://kevin14.github.io/2014/06/27/Html5-Canvas-Duplicated-On-Android" class="ds-thread"></div><script type="text/javascript">var duoshuoQuery = {short_name:'blogo'};
(function() {
	var ds = document.createElement('script');
	ds.type = 'text/javascript';ds.async = true;
	ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	ds.charset = 'UTF-8';
	(document.getElementsByTagName('head')[0] 
	|| document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div></div></html>